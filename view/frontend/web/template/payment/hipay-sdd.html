<!--
/**
 * HiPay Fullservice Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Apache 2.0 Licence
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * @author Kassim Belghait <kassim@sirateck.com>
 * @copyright Copyright (c) 2016 - HiPay
 * @license http://www.apache.org/licenses/LICENSE-2.0 Apache 2.0 Licence
 * @link https://github.com/hipay/hipay-fullservice-sdk-magento2
 *
 */
-->
<div
    class="payment-method"
    data-bind="css: {'_active': (getCode() == isChecked())}"
>
    <div class="payment-method-title field choice">
        <input
            type="radio"
            name="payment[method]"
            class="radio"
            data-bind="attr: {'id': getCode()}, value: getCode(), checked: isChecked, click: selectPaymentMethod, visible: isRadioButtonVisible()"
        />
        <label data-bind="attr: {'for': getCode()}" class="label">
            <span data-bind="text: getTitle()"></span>
        </label>
    </div>
    <div class="payment-method-content">
        <!-- ko foreach: getRegion('messages') -->
        <!-- ko template: getTemplate() -->
        <!-- /ko -->
        <!--/ko-->
        <div class="payment-method-billing-address">
            <!-- ko foreach: $parent.getRegion(getBillingAddressFormName()) -->
            <!-- ko template: getTemplate() -->
            <!-- /ko -->
            <!--/ko-->
        </div>

        <form
            class="form"
            id="co-transparent-form"
            data-bind="mageInit: {'validation':[]}"
            action="#"
            method="post"
            autocomplete="off"
        >
            <input
                type="hidden"
                id="ioBBFingerPrint"
                name="payment[device_fingerprint]"
                data-bind="attr: {value: getFingerprint()}"
            />

            <!--[if IE 9]>
            <div class="ie9 hipay-container" id="hipay-container-hosted-fields" data-bind="visible: initHostedFields()">
            <![endif]-->
            <!--[if gt IE 9]><!-->
            <div
                class="hipay-container"
                id="hipay-container-sdd"
                data-bind="visible: initHostedFields() "
            >
                <!--<![endif]-->

                <div class="hipay-row">
                    <div class="hipay-field-container">
                        <div class="hipay-field" id="hipay-gender"></div>
                        <label class="hipay-label" for="hipay-gender">
                            <!-- ko i18n: 'Gender'-->
                            <!-- /ko -->
                        </label>
                        <div class="hipay-baseline"></div>
                        <div
                            class="hipay-field-error"
                            data-hipay-id="hipay-sdd-field-error-gender"
                        ></div>
                    </div>
                </div>
                <div class="hipay-row">
                    <div class="hipay-field-container">
                        <div class="hipay-field" id="hipay-firstname"></div>
                        <label class="hipay-label" for="hipay-firstname">
                            <!-- ko i18n: 'Firstname'-->
                            <!-- /ko -->
                        </label>
                        <div class="hipay-baseline"></div>
                        <div
                            class="hipay-field-error"
                            data-hipay-id="hipay-sdd-field-error-firstname"
                        ></div>
                    </div>
                    <div class="hipay-field-container">
                        <div class="hipay-field" id="hipay-lastname"></div>
                        <label class="hipay-label" for="hipay-lastname">
                            <!-- ko i18n: 'Lastname'-->
                            <!-- /ko -->
                        </label>
                        <div class="hipay-baseline"></div>
                        <div
                            class="hipay-field-error"
                            data-hipay-id="hipay-sdd-field-error-lastname"
                        ></div>
                    </div>
                </div>

                <div class="hipay-row">
                    <div class="hipay-field-container">
                        <div class="hipay-field" id="hipay-bank-name"></div>
                        <label class="hipay-label" for="hipay-bank-name">
                            <!-- ko i18n: 'Bank Name'-->
                            <!-- /ko -->
                        </label>
                        <div class="hipay-baseline"></div>
                        <div
                            class="hipay-field-error"
                            data-hipay-id="hipay-sdd-field-error-bank_name"
                        ></div>
                    </div>
                </div>

                <div class="hipay-row">
                    <div class="hipay-field-container">
                        <div class="hipay-field" id="hipay-iban"></div>
                        <label class="hipay-label" for="hipay-iban">
                            <!-- ko i18n: 'Iban'-->
                            <!-- /ko -->
                        </label>
                        <div class="hipay-baseline"></div>
                        <div
                            class="hipay-field-error"
                            data-hipay-id="hipay-sdd-field-error-iban"
                        ></div>
                    </div>
                </div>

                <!-- ko foreach: getRegion('messages') -->
                <!-- ko template: getTemplate() -->
                <!-- /ko -->
                <!--/ko-->
            </div>
        </form>

        <div class="checkout-agreements-block">
            <!-- ko foreach: $parent.getRegion('before-place-order') -->
            <!-- ko template: getTemplate() -->
            <!-- /ko -->
            <!--/ko-->
        </div>
        <div class="actions-toolbar">
            <div class="primary">
                <button
                    class="action primary checkout"
                    type="submit"
                    data-bind="
                        click: place_order,
                        attr: {title: $t('Place Order')},
                        enable: isPlaceOrderAllowed()
                        "
                    disabled
                >
                    <span data-bind="i18n: 'Place Order'"></span>
                </button>
            </div>
        </div>
    </div>
</div>
