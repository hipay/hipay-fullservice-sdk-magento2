<!--
/**
 * HiPay Fullservice Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Apache 2.0 Licence
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * @author Kassim Belghait <kassim@sirateck.com>
 * @copyright Copyright (c) 2016 - HiPay
 * @license http://www.apache.org/licenses/LICENSE-2.0 Apache 2.0 Licence
 * @link https://github.com/hipay/hipay-fullservice-sdk-magento2
 *
 */
-->
<!-- ko if: isPaypalV2Allowed() -->
<div
  id="payment-method-paypal"
  class="payment-method"
  data-bind="css: {'_active': (getCode() == isChecked())}, visible: initHostedFields()"
>
  <div class="payment-method-title field choice">
    <input
      type="radio"
      name="payment[method]"
      class="radio"
      data-bind="attr: {'id': getCode()}, value: getCode(), checked: isChecked, click: selectPaymentMethod, visible: isRadioButtonVisible()"
    />
    <label data-bind="attr: {'for': getCode()}" class="label">
      <span data-bind="text: getTitle()"></span>
    </label>
  </div>
  <div class="payment-method-content">
    <!-- ko foreach: getRegion('messages') -->
    <!-- ko template: getTemplate() -->
    <!-- /ko -->
    <!--/ko-->
    <div class="payment-method-billing-address">
      <!-- ko foreach: $parent.getRegion(getBillingAddressFormName()) -->
      <!-- ko template: getTemplate() -->
      <!-- /ko -->
      <!--/ko-->
    </div>
    <div class="hipay-field-container">
      <div id="paypal-field" data-bind="visible: isAllTOCChecked() && isPayPalVisible()"></div>
      <div class="errorTOC" data-bind="visible: isAllTOCChecked() && !isPayPalVisible()">
        <span>
          <!-- ko i18n: 'Please complete your billing address, shipping address, and select a shipping method to continue with PayPal'-->
          <!-- /ko -->
        </span>
      </div>
    </div>
    <div class="checkout-agreements-block">
      <div class="errorTOC" data-bind="visible: !isAllTOCChecked()">
        <span>
          <!-- ko i18n: 'Please agree with the terms of conditions below'-->
          <!-- /ko -->
        </span>
      </div>
      <!-- ko foreach: $parent.getRegion('before-place-order') -->
      <!-- ko template: getTemplate() -->
      <!-- /ko -->
      <!--/ko-->
    </div>
  </div>
</div>
<!--/ko-->
